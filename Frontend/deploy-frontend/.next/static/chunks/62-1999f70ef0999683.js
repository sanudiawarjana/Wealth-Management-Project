"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62],{25016:(e,t,r)=>{r.d(t,{cn:()=>s});var a=r(2821),i=r(75889);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,a.$)(t))}},39460:(e,t,r)=>{r.d(t,{w_:()=>l,nH:()=>y,FW:()=>d,ro:()=>u,Fi:()=>m});class a{async delay(e){return new Promise(t=>setTimeout(t,e))}async fetchWithRetry(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;try{let a=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t.headers}});if(a.ok||a.status>=400&&a.status<500)return a;if(r<this.retryAttempts)return console.warn("Request failed, retrying... (".concat(r,"/").concat(this.retryAttempts,")")),await this.delay(this.retryDelay*r),this.fetchWithRetry(e,t,r+1);return a}catch(a){if(r<this.retryAttempts)return console.warn("Network error, retrying... (".concat(r,"/").concat(this.retryAttempts,")")),await this.delay(this.retryDelay*r),this.fetchWithRetry(e,t,r+1);throw a}}async get(e){try{let t=await this.fetchWithRetry("".concat(this.baseUrl).concat(e),{method:"GET"});if(!t.ok){let e=await t.json().catch(()=>({error:"Unknown error"}));return{success:!1,error:e.error||"Request failed with status ".concat(t.status)}}let r=await t.json();return{success:!0,data:r}}catch(e){return console.error("API GET Error:",e),{success:!1,error:e instanceof Error?e.message:"Network error occurred"}}}async post(e,t){try{let r=await this.fetchWithRetry("".concat(this.baseUrl).concat(e),{method:"POST",body:JSON.stringify(t)});if(!r.ok){let e=await r.json().catch(()=>({error:"Unknown error"}));return{success:!1,error:e.error||e.message||"Request failed with status ".concat(r.status)}}let a=await r.json();return{success:!0,data:a}}catch(e){return console.error("API POST Error:",e),{success:!1,error:e instanceof Error?e.message:"Network error occurred"}}}async put(e,t){try{let r=await this.fetchWithRetry("".concat(this.baseUrl).concat(e),{method:"PUT",body:JSON.stringify(t)});if(!r.ok){let e=await r.json().catch(()=>({error:"Unknown error"}));return{success:!1,error:e.error||"Request failed with status ".concat(r.status)}}let a=await r.json();return{success:!0,data:a}}catch(e){return console.error("API PUT Error:",e),{success:!1,error:e instanceof Error?e.message:"Network error occurred"}}}async delete(e){try{let t=await this.fetchWithRetry("".concat(this.baseUrl).concat(e),{method:"DELETE"});if(!t.ok){let e=await t.json().catch(()=>({error:"Unknown error"}));return{success:!1,error:e.error||"Request failed with status ".concat(t.status)}}let r=await t.json();return{success:!0,data:r}}catch(e){return console.error("API DELETE Error:",e),{success:!1,error:e instanceof Error?e.message:"Network error occurred"}}}constructor(e,t=3,r=1e3){this.baseUrl=e,this.retryAttempts=t,this.retryDelay=r}}let i=new a("http://localhost:5000/api"),s=e=>({id:e._id,source:e.source,amount:e.amount,currency:e.currency,frequency:e.frequency,date:e.createdAt}),c=e=>({id:e._id,name:e.name,type:e.type,value:e.value,currency:e.currency,date:e.createdAt}),o=e=>({id:e._id,name:e.name,type:e.type,amount:e.amount,currency:e.currency,interestRate:e.interestRate||0,date:e.createdAt}),n=e=>({id:e._id,bank:e.bank,lastFourDigits:e.last4,limit:e.creditLimit,outstanding:e.outstandingBalance,currency:e.currency,dueDate:e.paymentDueDate||""}),d={getAll:async()=>{let e=await i.get("/income");if(e.success&&e.data)return e.data.map(s);throw Error(e.error||"Failed to fetch income")},getById:async e=>{let t=await i.get("/income/".concat(e));if(t.success&&t.data)return s(t.data);throw Error(t.error||"Failed to fetch income")},create:async e=>{let t=await i.post("/income",{source:e.source,amount:e.amount,currency:e.currency,frequency:e.frequency});if(t.success&&t.data)return s(t.data);throw Error(t.error||"Failed to create income")},update:async(e,t)=>{let r=await i.put("/income/".concat(e),{source:t.source,amount:t.amount,currency:t.currency,frequency:t.frequency});if(r.success&&r.data)return s(r.data);throw Error(r.error||"Failed to update income")},delete:async e=>{let t=await i.delete("/income/".concat(e));if(!t.success)throw Error(t.error||"Failed to delete income")}},l={getAll:async()=>{let e=await i.get("/assets");if(e.success&&e.data)return e.data.map(c);throw Error(e.error||"Failed to fetch assets")},getById:async e=>{let t=await i.get("/assets/".concat(e));if(t.success&&t.data)return c(t.data);throw Error(t.error||"Failed to fetch asset")},create:async e=>{let t=await i.post("/assets",{name:e.name,type:e.type,value:e.value,currency:e.currency});if(t.success&&t.data)return c(t.data);throw Error(t.error||"Failed to create asset")},update:async(e,t)=>{let r=await i.put("/assets/".concat(e),{name:t.name,type:t.type,value:t.value,currency:t.currency});if(r.success&&r.data)return c(r.data);throw Error(r.error||"Failed to update asset")},delete:async e=>{let t=await i.delete("/assets/".concat(e));if(!t.success)throw Error(t.error||"Failed to delete asset")}},u={getAll:async()=>{let e=await i.get("/liabilities");if(e.success&&e.data)return e.data.map(o);throw Error(e.error||"Failed to fetch liabilities")},getById:async e=>{let t=await i.get("/liabilities/".concat(e));if(t.success&&t.data)return o(t.data);throw Error(t.error||"Failed to fetch liability")},create:async e=>{let t=await i.post("/liabilities",{name:e.name,type:e.type,amount:e.amount,currency:e.currency,interestRate:e.interestRate});if(t.success&&t.data)return o(t.data);throw Error(t.error||"Failed to create liability")},update:async(e,t)=>{let r=await i.put("/liabilities/".concat(e),{name:t.name,type:t.type,amount:t.amount,currency:t.currency,interestRate:t.interestRate});if(r.success&&r.data)return o(r.data);throw Error(r.error||"Failed to update liability")},delete:async e=>{let t=await i.delete("/liabilities/".concat(e));if(!t.success)throw Error(t.error||"Failed to delete liability")}},y={getAll:async()=>{let e=await i.get("/creditcards");if(e.success&&e.data)return e.data.map(n);throw Error(e.error||"Failed to fetch credit cards")},getById:async e=>{let t=await i.get("/creditcards/".concat(e));if(t.success&&t.data)return n(t.data);throw Error(t.error||"Failed to fetch credit card")},create:async e=>{let t=await i.post("/creditcards",{bank:e.bank,last4:e.lastFourDigits,creditLimit:e.limit,outstandingBalance:e.outstanding,currency:e.currency,paymentDueDate:e.dueDate||void 0});if(t.success&&t.data)return n(t.data);throw Error(t.error||"Failed to create credit card")},update:async(e,t)=>{let r=await i.put("/creditcards/".concat(e),{bank:t.bank,last4:t.lastFourDigits,creditLimit:t.limit,outstandingBalance:t.outstanding,currency:t.currency,paymentDueDate:t.dueDate||void 0});if(r.success&&r.data)return n(r.data);throw Error(r.error||"Failed to update credit card")},delete:async e=>{let t=await i.delete("/creditcards/".concat(e));if(!t.success)throw Error(t.error||"Failed to delete credit card")}},m={generate:async()=>{let e=await i.post("/recommendations",{});if(e.success&&e.data)return e.data;throw Error(e.error||"Failed to generate recommendations")}}},40743:(e,t,r)=>{r.d(t,{FinancialProvider:()=>p,x:()=>w});var a=r(95155),i=r(12115),s=r(39460);let c=0,o=new Map,n=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},d=[],l={toasts:[]};function u(e){l=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(l,e),d.forEach(e=>{e(l)})}function y(e){let{...t}=e,r=(c=(c+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>u({type:"DISMISS_TOAST",toastId:r});return u({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:r}})}}let m=(0,i.createContext)(void 0),h={income:[],assets:[],liabilities:[],creditCards:[],recommendations:[{id:"1",title:"Build Emergency Fund",description:"Aim to save 3-6 months of expenses in a liquid savings account for unexpected situations.",category:"savings",status:"pending",createdAt:new Date().toISOString()},{id:"2",title:"Diversify Investments",description:"Consider spreading your investments across different asset classes to reduce risk.",category:"investment",status:"pending",createdAt:new Date().toISOString()},{id:"3",title:"Pay Down High-Interest Debt",description:"Focus on paying off credit cards and loans with interest rates above 10% first.",category:"debt",status:"pending",createdAt:new Date().toISOString()}]};function p(e){let{children:t}=e,[r,c]=(0,i.useState)(h),[o,n]=(0,i.useState)(!1),{toast:p}=function(){let[e,t]=i.useState(l);return i.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:y,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}(),w=async()=>{n(!0);try{let[e,t,r,a]=await Promise.all([s.FW.getAll(),s.w_.getAll(),s.ro.getAll(),s.nH.getAll()]);c(i=>({...i,income:e,assets:t,liabilities:r,creditCards:a}))}catch(e){console.error("Failed to load data:",e),p({title:"Error",description:"Failed to load financial data",variant:"destructive"})}finally{n(!1)}};(0,i.useEffect)(()=>{w()},[]);let f=async e=>{try{let t=await s.FW.create(e);c(e=>({...e,income:[...e.income,t]})),p({title:"Success",description:"Income added successfully"})}catch(e){throw console.error("Failed to add income:",e),p({title:"Error",description:"Failed to add income",variant:"destructive"}),e}},g=async(e,t)=>{try{let r=await s.FW.update(e,t);c(t=>({...t,income:t.income.map(t=>t.id===e?r:t)})),p({title:"Success",description:"Income updated successfully"})}catch(e){throw console.error("Failed to update income:",e),p({title:"Error",description:"Failed to update income",variant:"destructive"}),e}},E=async e=>{try{let t=await s.w_.create(e);c(e=>({...e,assets:[...e.assets,t]})),p({title:"Success",description:"Asset added successfully"})}catch(e){throw console.error("Failed to add asset:",e),p({title:"Error",description:"Failed to add asset",variant:"destructive"}),e}},F=async(e,t)=>{try{let r=await s.w_.update(e,t);c(t=>({...t,assets:t.assets.map(t=>t.id===e?r:t)})),p({title:"Success",description:"Asset updated successfully"})}catch(e){throw console.error("Failed to update asset:",e),p({title:"Error",description:"Failed to update asset",variant:"destructive"}),e}},v=async e=>{try{let t=await s.ro.create(e);c(e=>({...e,liabilities:[...e.liabilities,t]})),p({title:"Success",description:"Liability added successfully"})}catch(e){throw console.error("Failed to add liability:",e),p({title:"Error",description:"Failed to add liability",variant:"destructive"}),e}},A=async(e,t)=>{try{let r=await s.ro.update(e,t);c(t=>({...t,liabilities:t.liabilities.map(t=>t.id===e?r:t)})),p({title:"Success",description:"Liability updated successfully"})}catch(e){throw console.error("Failed to update liability:",e),p({title:"Error",description:"Failed to update liability",variant:"destructive"}),e}},S=async e=>{try{let t=await s.nH.create(e);c(e=>({...e,creditCards:[...e.creditCards,t]})),p({title:"Success",description:"Credit card added successfully"})}catch(e){throw console.error("Failed to add credit card:",e),p({title:"Error",description:"Failed to add credit card",variant:"destructive"}),e}},b=async(e,t)=>{try{let r=await s.nH.update(e,t);c(t=>({...t,creditCards:t.creditCards.map(t=>t.id===e?r:t)})),p({title:"Success",description:"Credit card updated successfully"})}catch(e){throw console.error("Failed to update credit card:",e),p({title:"Error",description:"Failed to update credit card",variant:"destructive"}),e}},D=async e=>{try{await s.FW.delete(e),c(t=>({...t,income:t.income.filter(t=>t.id!==e)})),p({title:"Success",description:"Income deleted successfully"})}catch(e){throw console.error("Failed to delete income:",e),p({title:"Error",description:"Failed to delete income",variant:"destructive"}),e}},I=async e=>{try{await s.w_.delete(e),c(t=>({...t,assets:t.assets.filter(t=>t.id!==e)})),p({title:"Success",description:"Asset deleted successfully"})}catch(e){throw console.error("Failed to delete asset:",e),p({title:"Error",description:"Failed to delete asset",variant:"destructive"}),e}},T=async e=>{try{await s.ro.delete(e),c(t=>({...t,liabilities:t.liabilities.filter(t=>t.id!==e)})),p({title:"Success",description:"Liability deleted successfully"})}catch(e){throw console.error("Failed to delete liability:",e),p({title:"Error",description:"Failed to delete liability",variant:"destructive"}),e}},k=async e=>{try{await s.nH.delete(e),c(t=>({...t,creditCards:t.creditCards.filter(t=>t.id!==e)})),p({title:"Success",description:"Credit card deleted successfully"})}catch(e){throw console.error("Failed to delete credit card:",e),p({title:"Error",description:"Failed to delete credit card",variant:"destructive"}),e}},R=async()=>{try{let e=await s.Fi.generate(),t=Array.isArray(e.recommendations)?e.recommendations.map(e=>({id:crypto.randomUUID(),title:e.title||"Recommendation",description:e.detail||e.description||"",category:e.category||"savings",status:"pending",createdAt:new Date().toISOString()})):[];c(e=>({...e,recommendations:[...e.recommendations,...t]})),p({title:"Success",description:"AI recommendations generated successfully"})}catch(e){throw console.error("Failed to generate AI recommendations:",e),p({title:"Error",description:"Failed to generate AI recommendations",variant:"destructive"}),e}};return(0,a.jsx)(m.Provider,{value:{data:r,loading:o,addIncome:f,updateIncome:g,addAsset:E,updateAsset:F,addLiability:v,updateLiability:A,addCreditCard:S,updateCreditCard:b,addRecommendation:e=>{let t={...e,id:crypto.randomUUID(),createdAt:new Date().toISOString()};c(e=>({...e,recommendations:[...e.recommendations,t]}))},updateRecommendation:(e,t)=>{c(r=>({...r,recommendations:r.recommendations.map(r=>r.id===e?{...r,status:t}:r)}))},deleteIncome:D,deleteAsset:I,deleteLiability:T,deleteCreditCard:k,generateAIRecommendations:R,refreshData:w},children:t})}function w(){let e=(0,i.useContext)(m);if(!e)throw Error("useFinancial must be used within FinancialProvider");return e}}}]);